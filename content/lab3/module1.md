---
title: IoT 보안 터널링
weight: 1
pre: "<b>3.1 </b>"
---

## AWS IoT 보안 터널링 
원격 사이트의 제한된 방화벽 뒤에 디바이스를 배포하는 경우 문제에 대한 트러블슈팅, 구성 업데이트 및 기타 운영 작업을 위해 해당 디바이스에 액세스할 수 있는 방법으로, AWS IoT에서 관리하는 보안 연결을 통해 원격 디바이스에 양방향 통신을 설정할 수 있습니다. 기존 인바운드 방화벽 규칙을 업데이트할 필요가 없으므로 원격 사이트의 방화벽 규칙에서 제공하는 보안 수준을 동일하게 유지할 수 있습니다. 

![securetunnel](/lab2/image/securetunnel_1.png)

{{% notice info %}}
워크샵에서는 소스 및 대상지가 모두 VPC (SFworkshop VPC, default VPC)로 시뮬레이션 되었다는 것을 기억하십시오. 워크샵 특성상 모두 AWS상에서 구성이 되지만 실제로는 동일하게 on-premise와 PC상에서 보안 터널을 구성할 수 있습니다.
{{% /notice %}}

Key Msg : 
**AWS IoT 서비스에서 발급받은 token + source 의 local proxy + destination 의 local proxy**
이 3가지의 조합으로 다른 프라이빗 네트워크 대역 간 remote 통신이 가능하고, 이에 따른 방화벽 오픈이 불필요하며 암호화 통신 등의 보안상 장점을 누릴 수 있습니다. 

### 보안 터널링 구성 요소 
- **Destination** : 디바이스 액세스하려는 원격 디바이스
- **Destination Application** : 대상 디바이스에서 실행되는 애플리케이션 Ex) SSH demon 
- **Source** :  디바이스운영자가 대상 디바이스(일반적으로 랩톱 또는 데스크톱 컴퓨터)에 대한 세션을 시작하는 데 사용하는 디바이스
- **Tunnel** :  소스 디바이스와 대상 디바이스 간의 양방향 통신을 가능하게 하는 AWS IoT를 통한 논리적 경로
- **CAT**(클라이언트 액세스 토큰) :  새 터널이 생성될 때 보안 터널링에 의해 생성된 토큰 페어. CAT는 소스 및 대상 디바이스에서 보안 터널링 서비스에 연결하는 데 사용.
- **IoT device agent** : AWS IoT 디바이스 게이트웨이에 연결하고 MQTT를 통해 새 터널 알림을 수신하는 IoT 애플리케이션.
- **Local proxy** : 소스 및 대상 디바이스에서 실행되고 보안 터널링 서비스와 디바이스 애플리케이션 간에 데이터 스트림을 릴레이하는 소프트웨어 프록시입니다. 로컬 프록시는 소스 모드 또는 대상 모드에서 실행할 수 있습니다. 


 
---
© 2020 Amazon Web Services, Inc. 또는 자회사, All rights reserved.
